(()=>{const e="1fc5e4a9ac0b4336295c10a6462503b1";document.querySelector(".button").addEventListener("click",(()=>{(async()=>{const t=await(async()=>{const t=await(async()=>{const e=await fetch("https://restcountries.com/v3.1/all?fields=name,cca2",{mode:"cors"}),t=await e.json(),o=document.querySelector("#search__selection").value;let a="";for(let e=0;e<t.length;e+=1)o===t[e].name.common&&(a=t[e].cca2);return a})(),o=document.querySelector("#search__input").value,a=await fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${o}, ${t}&limit=1&appid=${e}`,{mode:"cors"}),c=await a.json();return[c[0].lat,c[0].lon]})(),o=t[0],a=t[1],c=await fetch(`http://api.openweathermap.org/data/2.5/forecast?lat=${o}&lon=${a}&appid=${e}`,{mode:"cors"}),n=await c.json();console.log(n)})()})),(async()=>{const e=await fetch("https://restcountries.com/v3.1/all?fields=name",{mode:"cors"}),t=await e.json(),o=document.querySelector("#search__selection"),a=[];for(let e=0;e<t.length;e+=1)a.push(t[e].name.common);const c=a.sort();for(let e=0;e<c.length;e+=1){const t=document.createElement("option");t.textContent=c[e],o.appendChild(t)}})()})();